{"ast":null,"code":"import { BUSQUEDA, BUSCARALL } from './action-types.js';\nimport axios from 'axios';\nexport const Listado = () => {\n  return async dispatch => {\n    try {\n      console.log(\"entro en la busqueda\");\n      const endpoint = 'http://localhost:3001/videogames/';\n      const {\n        data\n      } = await axios.get(endpoint);\n      console.log(\"desarrollo el data\");\n      const {\n        results\n      } = data.allgamersonline;\n      const newData = results.map(element => {\n        element.pagina_1.map(data => {\n          return {\n            id: data.id,\n            name: data.name,\n            background_image: data.background_image,\n            rating: data.rating,\n            genres: data.genres.name\n          };\n        });\n      });\n      console.log(\"datos \" + element.id + ' - ' + element.name);\n      dispatch({\n        type: BUSQUEDA,\n        payload: newData\n      });\n    } catch (error) {\n      console.error('Error al mostrar Juegos:', error);\n    }\n  };\n};\n_c = Listado;\nexport const busquedaAll = () => {\n  return async dispatch => {\n    try {\n      console.log(\"entro en la busqueda\");\n      const endpoint = 'http://localhost:3001/videogames/';\n      const {\n        data\n      } = await axios.get(endpoint);\n      console.log(\"desarrollo el data\");\n      const {\n        results\n      } = data.allgamersonline;\n      const priemrabusqueda = results.map(element => {\n        console.log(\"datos \" + element.id + ' - ' + element.name);\n        return {\n          id: element.id,\n          name: element.name,\n          background_image: element.background_image,\n          rating: element.rating,\n          genres: element.genres[0].name\n        };\n      });\n\n      //   console.log(\"mostrando busqueda\"+ JSON.stringify(priemrabusqueda))\n\n      dispatch({\n        type: BUSCARALL,\n        payload: priemrabusqueda\n      });\n    } catch (error) {\n      console.error('Error al mostrar Juegos:', error);\n    }\n  };\n};\nvar _c;\n$RefreshReg$(_c, \"Listado\");","map":{"version":3,"names":["BUSQUEDA","BUSCARALL","axios","Listado","dispatch","console","log","endpoint","data","get","results","allgamersonline","newData","map","element","pagina_1","id","name","background_image","rating","genres","type","payload","error","_c","busquedaAll","priemrabusqueda","$RefreshReg$"],"sources":["C:/Users/Luis Buelvas/Desktop/henry/M5/proyecto_pi/PI-Videogames-main/client/src/Redux/actions.js"],"sourcesContent":["import {BUSQUEDA, BUSCARALL} from './action-types.js'\r\nimport axios from 'axios';\r\n\r\nexport const Listado = ()=>{\r\n    return async (dispatch)=>{\r\n        try {\r\n            console.log(\"entro en la busqueda\");\r\n            const endpoint = 'http://localhost:3001/videogames/'\r\n            const {data} = await axios.get(endpoint)\r\n            console.log(\"desarrollo el data\");\r\n            const {results} = data.allgamersonline\r\n            \r\n            \r\n            const newData =  results.map(element => {element.pagina_1.map(data=>{\r\n                return {\r\n                    id: data.id,\r\n                    name: data.name,\r\n                    background_image: data.background_image,\r\n                    rating: data.rating,\r\n                    genres: data.genres.name,                           \r\n                  }\r\n                });\r\n            })\r\n                console.log(\"datos \"+element.id +' - '+element.name);                  \r\n                 \r\n          \r\n\r\n            dispatch({ \r\n                    type: BUSQUEDA,\r\n                    payload: newData,   \r\n                })\r\n        } catch (error) {\r\n            console.error('Error al mostrar Juegos:', error);\r\n        }\r\n       \r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const busquedaAll =() =>{\r\n\r\n    return async (dispatch)=>{\r\n        try {\r\n            console.log(\"entro en la busqueda\");\r\n            const endpoint = 'http://localhost:3001/videogames/'\r\n            const {data} = await axios.get(endpoint)\r\n            console.log(\"desarrollo el data\");\r\n            const {results} = data.allgamersonline\r\n            \r\n            \r\n            const priemrabusqueda =  results.map(element => {\r\n                console.log(\"datos \"+element.id +' - '+element.name);                  \r\n                  return {\r\n                                      id: element.id,\r\n                                      name: element.name,\r\n                                      background_image: element.background_image,\r\n                                      rating: element.rating,\r\n                                      genres: element.genres[0].name,                           \r\n                                    }\r\n                                  });\r\n\r\n                               //   console.log(\"mostrando busqueda\"+ JSON.stringify(priemrabusqueda))\r\n            \r\n            dispatch({ \r\n                type: BUSCARALL,\r\n                payload: priemrabusqueda,   \r\n            })\r\n        } catch (error) {\r\n            console.error('Error al mostrar Juegos:', error);\r\n        }\r\n    }\r\n}"],"mappings":"AAAA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,mBAAmB;AACrD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAI;EACvB,OAAO,MAAOC,QAAQ,IAAG;IACrB,IAAI;MACAC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;MACnC,MAAMC,QAAQ,GAAG,mCAAmC;MACpD,MAAM;QAACC;MAAI,CAAC,GAAG,MAAMN,KAAK,CAACO,GAAG,CAACF,QAAQ,CAAC;MACxCF,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACjC,MAAM;QAACI;MAAO,CAAC,GAAGF,IAAI,CAACG,eAAe;MAGtC,MAAMC,OAAO,GAAIF,OAAO,CAACG,GAAG,CAACC,OAAO,IAAI;QAACA,OAAO,CAACC,QAAQ,CAACF,GAAG,CAACL,IAAI,IAAE;UAChE,OAAO;YACHQ,EAAE,EAAER,IAAI,CAACQ,EAAE;YACXC,IAAI,EAAET,IAAI,CAACS,IAAI;YACfC,gBAAgB,EAAEV,IAAI,CAACU,gBAAgB;YACvCC,MAAM,EAAEX,IAAI,CAACW,MAAM;YACnBC,MAAM,EAAEZ,IAAI,CAACY,MAAM,CAACH;UACtB,CAAC;QACH,CAAC,CAAC;MACN,CAAC,CAAC;MACEZ,OAAO,CAACC,GAAG,CAAC,QAAQ,GAACQ,OAAO,CAACE,EAAE,GAAE,KAAK,GAACF,OAAO,CAACG,IAAI,CAAC;MAIxDb,QAAQ,CAAC;QACDiB,IAAI,EAAErB,QAAQ;QACdsB,OAAO,EAAEV;MACb,CAAC,CAAC;IACV,CAAC,CAAC,OAAOW,KAAK,EAAE;MACZlB,OAAO,CAACkB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IACpD;EAMJ,CAAC;AACL,CAAC;AAAAC,EAAA,GArCYrB,OAAO;AAwCpB,OAAO,MAAMsB,WAAW,GAAEA,CAAA,KAAK;EAE3B,OAAO,MAAOrB,QAAQ,IAAG;IACrB,IAAI;MACAC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;MACnC,MAAMC,QAAQ,GAAG,mCAAmC;MACpD,MAAM;QAACC;MAAI,CAAC,GAAG,MAAMN,KAAK,CAACO,GAAG,CAACF,QAAQ,CAAC;MACxCF,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACjC,MAAM;QAACI;MAAO,CAAC,GAAGF,IAAI,CAACG,eAAe;MAGtC,MAAMe,eAAe,GAAIhB,OAAO,CAACG,GAAG,CAACC,OAAO,IAAI;QAC5CT,OAAO,CAACC,GAAG,CAAC,QAAQ,GAACQ,OAAO,CAACE,EAAE,GAAE,KAAK,GAACF,OAAO,CAACG,IAAI,CAAC;QAClD,OAAO;UACaD,EAAE,EAAEF,OAAO,CAACE,EAAE;UACdC,IAAI,EAAEH,OAAO,CAACG,IAAI;UAClBC,gBAAgB,EAAEJ,OAAO,CAACI,gBAAgB;UAC1CC,MAAM,EAAEL,OAAO,CAACK,MAAM;UACtBC,MAAM,EAAEN,OAAO,CAACM,MAAM,CAAC,CAAC,CAAC,CAACH;QAC5B,CAAC;MACH,CAAC,CAAC;;MAEL;;MAEnBb,QAAQ,CAAC;QACLiB,IAAI,EAAEpB,SAAS;QACfqB,OAAO,EAAEI;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOH,KAAK,EAAE;MACZlB,OAAO,CAACkB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IACpD;EACJ,CAAC;AACL,CAAC;AAAA,IAAAC,EAAA;AAAAG,YAAA,CAAAH,EAAA"},"metadata":{},"sourceType":"module"}