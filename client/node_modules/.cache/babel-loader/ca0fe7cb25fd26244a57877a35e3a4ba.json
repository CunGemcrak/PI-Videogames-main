{"ast":null,"code":"import { BUSCARALL, FILTER, GENRES, COPY, INDIVIDUALBUSQUEDA, INDIVIDUALAPI } from './action-types.js';\nimport axios from 'axios';\n/*\r\nexport const Listado = ()=>{\r\n    return async (dispatch)=>{\r\n        try {\r\n            console.log(\"entro en la busqueda\");\r\n            const endpoint = 'http://localhost:3001/videogames/'\r\n            const {data} = await axios.get(endpoint)\r\n            console.log(\"desarrollo el data\");\r\n            const {results} = data.allgamersonline\r\n            \r\n            \r\n            const newData =  results.map(element => {\r\n                console.log(\"datos \"+element.id +' - '+element.name);                  \r\n                  return {\r\n                                      id: element.id,\r\n                                      name: element.name,\r\n                                      background_image: element.background_image,\r\n                                      rating: element.rating,\r\n                                      genres: element.genres.name,                           \r\n                                    }\r\n                                  });\r\n          \r\n\r\n            dispatch({ \r\n                    type: BUSQUEDA,\r\n                    payload: newData,   \r\n                })\r\n        } catch (error) {\r\n            console.error('Error al mostrar Juegos:', error);\r\n        }\r\n       \r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n*/\n\nexport const busquedaAll = () => {\n  return async dispatch => {\n    try {\n      console.log(\"entro en la busqueda\");\n      const endpoint = 'http://localhost:3001/videogames/';\n      const {\n        data\n      } = await axios.get(endpoint);\n\n      //const pagina= data.allgamersonline\n      // const allgamersonline = data.allgamersonline; \n      const priemrabusqueda = [];\n      for (const pagina in data.allgamersonline) {\n        if (Object.hasOwnProperty.call(data.allgamersonline, pagina)) {\n          const results = data.allgamersonline[pagina].results;\n          const formattedResults = results.map(element => ({\n            id: element.id,\n            name: element.name.toUpperCase(),\n            background_image: element.background_image,\n            rating: element.rating,\n            genres: element.genres[0].name,\n            api: 'API'\n          }));\n          priemrabusqueda.push(...formattedResults);\n        }\n      }\n      // console.log(data.allgamers);\n\n      const result2 = data.allgamers.map(element => ({\n        id: 'DB' + element.id,\n        name: element.name.toUpperCase(),\n        background_image: element.image,\n        rating: element.rating,\n        genres: \"NULL\",\n        api: 'DB'\n      }));\n      const [datos] = result2;\n      priemrabusqueda.push(datos);\n      dispatch({\n        type: BUSCARALL,\n        payload: priemrabusqueda\n      });\n    } catch (error) {\n      console.error('Error al mostrar Juegos:', error);\n    }\n  };\n};\nexport const genres = () => {\n  return async dispatch => {\n    try {\n      const endpoint = 'http://localhost:3001/genres/';\n      const {\n        data\n      } = await axios.get(endpoint);\n      const genres = data.elementos;\n      dispatch({\n        type: GENRES,\n        payload: genres\n      });\n    } catch (error) {\n      console.error('Error al mostrar el genres:', error);\n    }\n  };\n};\nexport const busquedaIndividual = data => {\n  return {\n    type: INDIVIDUALBUSQUEDA,\n    payload: data.toUpperCase()\n  };\n  /*return async (dispatch) => { \r\n                              try {\r\n                                  const endpoint = 'http://localhost:3001/videogames/:'\r\n                                              const {data} = await axios.get(endpoint+data)\r\n                                              const {data_Card} = data\r\n                                              dispatch({\r\n                                                  type: INDIVIDUALBUSQUEDA,\r\n                                                  payload: genres,\r\n                                              })\r\n                              } catch (error) {\r\n                                  console.error('Error al mostrar la busqueda:', error);\r\n                              }\r\n             }*/\n};\nexport const busquedaIndApi = data => {\n  return async dispatch => {\n    try {\n      const endpoint = 'http://localhost:3001/videogames/name/:';\n      const resultatadoApi = await axios.get(endpoint + data);\n      const {\n        data_Card\n      } = resultatadoApi;\n      dispatch({\n        type: INDIVIDUALAPI,\n        payload: data_Card\n      });\n    } catch (error) {\n      console.error('Error al mostrar la busqueda:', error);\n    }\n  };\n};\nexport const fiterCard = gender => {\n  return {\n    type: FILTER,\n    payload: gender\n  };\n};\nexport const CopiaAllVideoGamer = () => {\n  return {\n    type: COPY,\n    payload: \"copia\"\n  };\n};\n_c = CopiaAllVideoGamer;\nvar _c;\n$RefreshReg$(_c, \"CopiaAllVideoGamer\");","map":{"version":3,"names":["BUSCARALL","FILTER","GENRES","COPY","INDIVIDUALBUSQUEDA","INDIVIDUALAPI","axios","busquedaAll","dispatch","console","log","endpoint","data","get","priemrabusqueda","pagina","allgamersonline","Object","hasOwnProperty","call","results","formattedResults","map","element","id","name","toUpperCase","background_image","rating","genres","api","push","result2","allgamers","image","datos","type","payload","error","elementos","busquedaIndividual","busquedaIndApi","resultatadoApi","data_Card","fiterCard","gender","CopiaAllVideoGamer","_c","$RefreshReg$"],"sources":["C:/Users/Luis Buelvas/Desktop/henry/M5/proyecto_pi/PI-Videogames-main/client/src/Redux/actions.js"],"sourcesContent":["import { BUSCARALL, FILTER, GENRES, COPY, INDIVIDUALBUSQUEDA, INDIVIDUALAPI} from './action-types.js'\r\nimport axios from 'axios';\r\n/*\r\nexport const Listado = ()=>{\r\n    return async (dispatch)=>{\r\n        try {\r\n            console.log(\"entro en la busqueda\");\r\n            const endpoint = 'http://localhost:3001/videogames/'\r\n            const {data} = await axios.get(endpoint)\r\n            console.log(\"desarrollo el data\");\r\n            const {results} = data.allgamersonline\r\n            \r\n            \r\n            const newData =  results.map(element => {\r\n                console.log(\"datos \"+element.id +' - '+element.name);                  \r\n                  return {\r\n                                      id: element.id,\r\n                                      name: element.name,\r\n                                      background_image: element.background_image,\r\n                                      rating: element.rating,\r\n                                      genres: element.genres.name,                           \r\n                                    }\r\n                                  });\r\n          \r\n\r\n            dispatch({ \r\n                    type: BUSQUEDA,\r\n                    payload: newData,   \r\n                })\r\n        } catch (error) {\r\n            console.error('Error al mostrar Juegos:', error);\r\n        }\r\n       \r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n*/\r\n\r\nexport const busquedaAll =() =>{\r\n\r\n    return async (dispatch)=>{\r\n        try {\r\n            console.log(\"entro en la busqueda\");\r\n            const endpoint = 'http://localhost:3001/videogames/'\r\n            const {data} = await axios.get(endpoint)\r\n           \r\n            //const pagina= data.allgamersonline\r\n           // const allgamersonline = data.allgamersonline; \r\n            const priemrabusqueda = []\r\n            \r\n            for(const pagina in data.allgamersonline){\r\n                if (Object.hasOwnProperty.call( data.allgamersonline, pagina)){\r\n                    const results = data.allgamersonline[pagina].results;\r\n                    const formattedResults = results.map(element => ({\r\n                        id: element.id,\r\n                        name: element.name.toUpperCase(),\r\n                        background_image: element.background_image,\r\n                        rating: element.rating,\r\n                        genres: element.genres[0].name, \r\n                        api: 'API'\r\n                    }));\r\n                    priemrabusqueda.push(...formattedResults);\r\n\r\n                }\r\n               \r\n\r\n            }\r\n           // console.log(data.allgamers);\r\n           \r\n            const result2 = data.allgamers.map(element =>({\r\n                        id: 'DB'+element.id,\r\n                        name: element.name.toUpperCase(),\r\n                        background_image: element.image,\r\n                        rating: element.rating,\r\n                        genres:\"NULL\", \r\n                        api: 'DB'\r\n            }))\r\n            const [datos] = result2\r\n\r\n            priemrabusqueda.push(datos)\r\n            \r\n            \r\n            dispatch({ \r\n                type: BUSCARALL,\r\n                payload: priemrabusqueda,   \r\n            })\r\n        } catch (error) {\r\n            console.error('Error al mostrar Juegos:', error);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const genres = ()=>{\r\n    return async (dispatch)=> {\r\n        try {\r\n           \r\n              \r\n                const endpoint = 'http://localhost:3001/genres/'\r\n                const {data} = await axios.get(endpoint)\r\n                const genres = data.elementos\r\n                dispatch({\r\n                    type: GENRES,\r\n                    payload: genres,\r\n                })\r\n        \r\n        } catch (error) {\r\n            console.error('Error al mostrar el genres:', error);\r\n        }  \r\n    \r\n    }\r\n}\r\n\r\n\r\n\r\nexport const busquedaIndividual=(data)=>{\r\n    return{type: INDIVIDUALBUSQUEDA, payload: data.toUpperCase()}\r\n    /*return async (dispatch) => { \r\n                                try {\r\n                                    const endpoint = 'http://localhost:3001/videogames/:'\r\n                                                const {data} = await axios.get(endpoint+data)\r\n                                                const {data_Card} = data\r\n                                                dispatch({\r\n                                                    type: INDIVIDUALBUSQUEDA,\r\n                                                    payload: genres,\r\n                                                })\r\n                                } catch (error) {\r\n                                    console.error('Error al mostrar la busqueda:', error);\r\n                                }\r\n\r\n             }*/\r\n}\r\n\r\n\r\nexport const busquedaIndApi=(data)=>{\r\n    return async (dispatch)=>{\r\n                        try {\r\n                            const endpoint = 'http://localhost:3001/videogames/name/:'\r\n                                                                const resultatadoApi = await axios.get(endpoint+data)\r\n                                                                const {data_Card} = resultatadoApi\r\n                                                                dispatch({\r\n                                                                    type: INDIVIDUALAPI,\r\n                                                                    payload: data_Card,\r\n                                                                })\r\n\r\n\r\n                        } catch (error) {\r\n                            console.error('Error al mostrar la busqueda:', error);\r\n                        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const fiterCard = (gender) =>{\r\n    return {type:FILTER , payload: gender }\r\n}\r\n\r\nexport const CopiaAllVideoGamer = ()=>{\r\n    return {type:COPY, payload:\"copia\"}\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}