{"ast":null,"code":"import { BUSQUEDA, BUSCARALL } from './action-types.js';\nimport axios from 'axios';\nexport const Listado = () => {\n  return async dispatch => {\n    try {\n      console.log(\"entro en la busqueda\");\n      const endpoint = 'http://localhost:3001/videogames/';\n      const {\n        data\n      } = await axios.get(endpoint);\n      console.log(\"desarrollo el data\");\n      const {\n        results\n      } = data.allgamersonline;\n      const newData = results.map(element => {\n        console.log(\"datos \" + element.id + ' - ' + element.name);\n        return {\n          id: element.id,\n          name: element.name,\n          background_image: element.background_image,\n          rating: element.rating,\n          genres: element.genres.name\n        };\n      });\n      dispatch({\n        type: BUSQUEDA,\n        payload: newData\n      });\n    } catch (error) {\n      console.error('Error al mostrar Juegos:', error);\n    }\n  };\n};\n_c = Listado;\nexport const busquedaAll = () => {\n  return async dispatch => {\n    try {\n      console.log(\"entro en la busqueda\");\n      const endpoint = 'http://localhost:3001/videogames/';\n      const {\n        data\n      } = await axios.get(endpoint);\n      console.log(\"desarrollo el data\");\n      const {\n        results\n      } = data.allgamersonline; //.pagina_2\n      console.log(\"Esto es lo encontrado\" + results.pagina_1);\n      const priemrabusqueda = await results.map(element => {\n        element.map(recorrer => {\n          console.log(\"datos \" + recorrer.id + ' - ' + recorrer.name);\n        });\n      });\n\n      /*\r\n                                    \r\n                        return {\r\n                                            id: element.id,\r\n                                            name: element.name,\r\n                                            background_image: element.background_image,\r\n                                            rating: element.rating,\r\n                                            genres: element.genres[0].name,                           \r\n                                          }\r\n                                        });*/\n\n      //   console.log(\"mostrando busqueda\"+ JSON.stringify(priemrabusqueda))\n\n      dispatch({\n        type: BUSCARALL,\n        payload: priemrabusqueda\n      });\n    } catch (error) {\n      console.error('Error al mostrar Juegos:', error);\n    }\n  };\n};\nvar _c;\n$RefreshReg$(_c, \"Listado\");","map":{"version":3,"names":["BUSQUEDA","BUSCARALL","axios","Listado","dispatch","console","log","endpoint","data","get","results","allgamersonline","newData","map","element","id","name","background_image","rating","genres","type","payload","error","_c","busquedaAll","pagina_1","priemrabusqueda","recorrer","$RefreshReg$"],"sources":["C:/Users/Luis Buelvas/Desktop/henry/M5/proyecto_pi/PI-Videogames-main/client/src/Redux/actions.js"],"sourcesContent":["import {BUSQUEDA, BUSCARALL} from './action-types.js'\r\nimport axios from 'axios';\r\n\r\nexport const Listado = ()=>{\r\n    return async (dispatch)=>{\r\n        try {\r\n            console.log(\"entro en la busqueda\");\r\n            const endpoint = 'http://localhost:3001/videogames/'\r\n            const {data} = await axios.get(endpoint)\r\n            console.log(\"desarrollo el data\");\r\n            const {results} = data.allgamersonline\r\n            \r\n            \r\n            const newData =  results.map(element => {\r\n                console.log(\"datos \"+element.id +' - '+element.name);                  \r\n                  return {\r\n                                      id: element.id,\r\n                                      name: element.name,\r\n                                      background_image: element.background_image,\r\n                                      rating: element.rating,\r\n                                      genres: element.genres.name,                           \r\n                                    }\r\n                                  });\r\n          \r\n\r\n            dispatch({ \r\n                    type: BUSQUEDA,\r\n                    payload: newData,   \r\n                })\r\n        } catch (error) {\r\n            console.error('Error al mostrar Juegos:', error);\r\n        }\r\n       \r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const busquedaAll =() =>{\r\n\r\n    return async (dispatch)=>{\r\n        try {\r\n            console.log(\"entro en la busqueda\");\r\n            const endpoint = 'http://localhost:3001/videogames/'\r\n            const {data} = await axios.get(endpoint)\r\n            console.log(\"desarrollo el data\");\r\n            const {results} = data.allgamersonline//.pagina_2\r\n            console.log(\"Esto es lo encontrado\"+results.pagina_1)\r\n            \r\n            \r\n            const priemrabusqueda = await results.map( (element) => { element.map( recorrer=>{\r\n\r\n                console.log(\"datos \"+recorrer.id +' - '+recorrer.name);   \r\n\r\n\r\n            } ) }); \r\n\r\n\r\n\r\n\r\n\r\n/*\r\n                              \r\n                  return {\r\n                                      id: element.id,\r\n                                      name: element.name,\r\n                                      background_image: element.background_image,\r\n                                      rating: element.rating,\r\n                                      genres: element.genres[0].name,                           \r\n                                    }\r\n                                  });*/\r\n\r\n                               //   console.log(\"mostrando busqueda\"+ JSON.stringify(priemrabusqueda))\r\n            \r\n            dispatch({ \r\n                type: BUSCARALL,\r\n                payload: priemrabusqueda,   \r\n            })\r\n        } catch (error) {\r\n            console.error('Error al mostrar Juegos:', error);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"],"mappings":"AAAA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,mBAAmB;AACrD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAI;EACvB,OAAO,MAAOC,QAAQ,IAAG;IACrB,IAAI;MACAC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;MACnC,MAAMC,QAAQ,GAAG,mCAAmC;MACpD,MAAM;QAACC;MAAI,CAAC,GAAG,MAAMN,KAAK,CAACO,GAAG,CAACF,QAAQ,CAAC;MACxCF,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACjC,MAAM;QAACI;MAAO,CAAC,GAAGF,IAAI,CAACG,eAAe;MAGtC,MAAMC,OAAO,GAAIF,OAAO,CAACG,GAAG,CAACC,OAAO,IAAI;QACpCT,OAAO,CAACC,GAAG,CAAC,QAAQ,GAACQ,OAAO,CAACC,EAAE,GAAE,KAAK,GAACD,OAAO,CAACE,IAAI,CAAC;QAClD,OAAO;UACaD,EAAE,EAAED,OAAO,CAACC,EAAE;UACdC,IAAI,EAAEF,OAAO,CAACE,IAAI;UAClBC,gBAAgB,EAAEH,OAAO,CAACG,gBAAgB;UAC1CC,MAAM,EAAEJ,OAAO,CAACI,MAAM;UACtBC,MAAM,EAAEL,OAAO,CAACK,MAAM,CAACH;QACzB,CAAC;MACH,CAAC,CAAC;MAGxBZ,QAAQ,CAAC;QACDgB,IAAI,EAAEpB,QAAQ;QACdqB,OAAO,EAAET;MACb,CAAC,CAAC;IACV,CAAC,CAAC,OAAOU,KAAK,EAAE;MACZjB,OAAO,CAACiB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IACpD;EAMJ,CAAC;AACL,CAAC;AAAAC,EAAA,GAnCYpB,OAAO;AAsCpB,OAAO,MAAMqB,WAAW,GAAEA,CAAA,KAAK;EAE3B,OAAO,MAAOpB,QAAQ,IAAG;IACrB,IAAI;MACAC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;MACnC,MAAMC,QAAQ,GAAG,mCAAmC;MACpD,MAAM;QAACC;MAAI,CAAC,GAAG,MAAMN,KAAK,CAACO,GAAG,CAACF,QAAQ,CAAC;MACxCF,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACjC,MAAM;QAACI;MAAO,CAAC,GAAGF,IAAI,CAACG,eAAe;MACtCN,OAAO,CAACC,GAAG,CAAC,uBAAuB,GAACI,OAAO,CAACe,QAAQ,CAAC;MAGrD,MAAMC,eAAe,GAAG,MAAMhB,OAAO,CAACG,GAAG,CAAGC,OAAO,IAAK;QAAEA,OAAO,CAACD,GAAG,CAAEc,QAAQ,IAAE;UAE7EtB,OAAO,CAACC,GAAG,CAAC,QAAQ,GAACqB,QAAQ,CAACZ,EAAE,GAAE,KAAK,GAACY,QAAQ,CAACX,IAAI,CAAC;QAG1D,CAAE,CAAC;MAAC,CAAC,CAAC;;MAMlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MAE+B;;MAEnBZ,QAAQ,CAAC;QACLgB,IAAI,EAAEnB,SAAS;QACfoB,OAAO,EAAEK;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACZjB,OAAO,CAACiB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IACpD;EACJ,CAAC;AACL,CAAC;AAAA,IAAAC,EAAA;AAAAK,YAAA,CAAAL,EAAA"},"metadata":{},"sourceType":"module"}